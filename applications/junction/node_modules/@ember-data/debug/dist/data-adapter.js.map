{"version":3,"file":"data-adapter.js","sources":["../../../node_modules/.pnpm/decorat_e3cbd74f60cbc6601d9238bdf69fcbb4/node_modules/decorator-transforms/dist/runtime-BPCpkOf1.js","../src/data-adapter.ts"],"sourcesContent":["const deferred = /* @__PURE__ */ new WeakMap();\nfunction deferDecorator(proto, prop, desc) {\n  let map = deferred.get(proto);\n  if (!map) {\n    map = /* @__PURE__ */ new Map();\n    deferred.set(proto, map);\n  }\n  map.set(prop, desc);\n}\nfunction findDeferredDecorator(target, prop) {\n  var _a;\n  let cursor = target.prototype;\n  while (cursor) {\n    let desc = (_a = deferred.get(cursor)) == null ? void 0 : _a.get(prop);\n    if (desc) {\n      return desc;\n    }\n    cursor = cursor.prototype;\n  }\n}\nfunction decorateFieldV1(target, prop, decorators, initializer) {\n  return decorateFieldV2(target.prototype, prop, decorators, initializer);\n}\nfunction decorateFieldV2(prototype, prop, decorators, initializer) {\n  let desc = {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  };\n  if (initializer) {\n    desc.initializer = initializer;\n  }\n  for (let decorator of decorators) {\n    desc = decorator(prototype, prop, desc) || desc;\n  }\n  if (desc.initializer === void 0) {\n    Object.defineProperty(prototype, prop, desc);\n  } else {\n    deferDecorator(prototype, prop, desc);\n  }\n}\nfunction decorateMethodV1({ prototype }, prop, decorators) {\n  return decorateMethodV2(prototype, prop, decorators);\n}\nfunction decorateMethodV2(prototype, prop, decorators) {\n  const origDesc = Object.getOwnPropertyDescriptor(prototype, prop);\n  let desc = { ...origDesc };\n  for (let decorator of decorators) {\n    desc = decorator(prototype, prop, desc) || desc;\n  }\n  if (desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(prototype) : void 0;\n    desc.initializer = void 0;\n  }\n  Object.defineProperty(prototype, prop, desc);\n}\nfunction initializeDeferredDecorator(target, prop) {\n  let desc = findDeferredDecorator(target.constructor, prop);\n  if (desc) {\n    Object.defineProperty(target, prop, {\n      enumerable: desc.enumerable,\n      configurable: desc.configurable,\n      writable: desc.writable,\n      value: desc.initializer ? desc.initializer.call(target) : void 0\n    });\n  }\n}\nfunction decorateClass(target, decorators) {\n  return decorators.reduce(\n    (accum, decorator) => decorator(accum) || accum,\n    target\n  );\n}\nfunction decoratePOJO(pojo, decorated) {\n  for (let [type, prop, decorators] of decorated) {\n    if (type === \"field\") {\n      decoratePojoField(pojo, prop, decorators);\n    } else {\n      decorateMethodV2(pojo, prop, decorators);\n    }\n  }\n  return pojo;\n}\nfunction decoratePojoField(pojo, prop, decorators) {\n  let desc = {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: () => {\n      var _a;\n      return (_a = Object.getOwnPropertyDescriptor(pojo, prop)) == null ? void 0 : _a.value;\n    }\n  };\n  for (let decorator of decorators) {\n    desc = decorator(pojo, prop, desc) || desc;\n  }\n  if (desc.initializer) {\n    desc.value = desc.initializer.call(pojo);\n    delete desc.initializer;\n  }\n  Object.defineProperty(pojo, prop, desc);\n}\nconst runtime = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  c: decorateClass,\n  f: decorateFieldV1,\n  g: decorateFieldV2,\n  i: initializeDeferredDecorator,\n  m: decorateMethodV1,\n  n: decorateMethodV2,\n  p: decoratePOJO\n}, Symbol.toStringTag, { value: \"Module\" }));\nexport {\n  decorateFieldV2 as a,\n  decorateMethodV1 as b,\n  decorateMethodV2 as c,\n  decorateFieldV1 as d,\n  decorateClass as e,\n  decoratePOJO as f,\n  initializeDeferredDecorator as i,\n  runtime as r\n};\n//# sourceMappingURL=runtime-BPCpkOf1.js.map\n","/**\n  # Overview\n\n  This package provides the `DataAdapter` which the [Ember Inspector](https://github.com/emberjs/ember-inspector)\n  uses to subscribe and retrieve information for the `data` tab in the inspector.\n\n  This package adds roughly .6 KB when minified and compressed to your application in production; however,\n  you can opt out of shipping this addon in production via options in `ember-cli-build.js`\n\n  ```js\n  let app = new EmberApp(defaults, {\n    emberData: {\n      includeDataAdapterInProduction: false\n    }\n  });\n  ```\n\n  When using `ember-data` as a dependency of your app, the default is to ship the inspector support to production.\n\n  When not using `ember-data` as a dependency but instead using EmberData via declaring specific `@ember-data/<package>`\n  dependencies the default is to not ship to production.\n\n  @module @ember-data/debug\n  @main @ember-data/debug\n*/\nimport type { NativeArray } from '@ember/array';\nimport { A } from '@ember/array';\nimport DataAdapter from '@ember/debug/data-adapter';\nimport { addObserver, removeObserver } from '@ember/object/observers';\nimport * as s from '@ember/service';\n\nimport { getGlobalConfig, macroCondition } from '@embroider/macros';\n\nimport type Model from '@ember-data/model';\nimport { capitalize, underscore } from '@ember-data/request-utils/string';\nimport type Store from '@ember-data/store';\nimport { recordIdentifierFor } from '@ember-data/store';\nimport type { ModelSchema } from '@ember-data/store/types';\nimport { assert } from '@warp-drive/build-config/macros';\n\nconst service = s.service ?? s.inject;\nconst StoreTypesMap = new WeakMap<Store, Map<string, boolean>>();\n\ntype RecordColor = 'black' | 'red' | 'blue' | 'green';\ntype Column = {\n  name: string;\n  desc: string;\n};\ntype WrappedType<N extends string = string> = {\n  name: N;\n  count: number;\n  columns: Column[];\n  object: unknown;\n};\ntype WrappedRecord<T> = {\n  object: T;\n  columnValues: object;\n  searchKeywords: unknown[];\n  filterValues: object;\n  color: RecordColor | null;\n};\ntype WrappedTypeCallback = (types: WrappedType[]) => void;\n\nfunction debugInfo(this: Model) {\n  const relationships: { belongsTo?: []; hasMany?: [] } = {};\n  const expensiveProperties: string[] = [];\n\n  const identifier = recordIdentifierFor(this);\n  const fields = this.store.schema.fields(identifier);\n\n  const attrGroup = {\n    name: 'Attributes',\n    properties: ['id'],\n    expand: true,\n  };\n  const attributes = attrGroup.properties;\n  const groups = [attrGroup];\n\n  for (const field of fields.values()) {\n    switch (field.kind) {\n      case 'attribute':\n        attributes.push(field.name);\n        break;\n      case 'belongsTo':\n      case 'hasMany': {\n        let properties: string[] | undefined = relationships[field.kind];\n\n        if (properties === undefined) {\n          properties = relationships[field.kind] = [];\n          groups.push({\n            name: field.kind,\n            properties,\n            expand: true,\n          });\n        }\n        properties.push(field.name);\n        expensiveProperties.push(field.name);\n        break;\n      }\n    }\n  }\n\n  groups.push({\n    name: 'Flags',\n    properties: ['isLoaded', 'hasDirtyAttributes', 'isSaving', 'isDeleted', 'isError', 'isNew', 'isValid'],\n    expand: false,\n  });\n\n  return {\n    propertyInfo: {\n      // include all other mixins / properties (not just the grouped ones)\n      includeOtherProperties: true,\n      groups: groups,\n      // don't pre-calculate unless cached\n      expensiveProperties: expensiveProperties,\n    },\n  };\n}\n\nfunction installDebugInfo(ModelKlass: typeof Model) {\n  /**\n   Provides info about the model for debugging purposes\n   by grouping the properties into more semantic groups.\n\n   Meant to be used by debugging tools such as the Chrome Ember Extension.\n\n   - Groups all attributes in \"Attributes\" group.\n   - Groups all belongsTo relationships in \"Belongs To\" group.\n   - Groups all hasMany relationships in \"Has Many\" group.\n   - Groups all flags in \"Flags\" group.\n   - Flags relationship CPs as expensive properties.\n\n   @internal\n   */\n  (ModelKlass.prototype as unknown as { _debugInfo: typeof debugInfo })._debugInfo = debugInfo;\n}\n\nfunction typesMapFor(store: Store): Map<string, boolean> {\n  let typesMap = StoreTypesMap.get(store);\n\n  if (typesMap === undefined) {\n    typesMap = new Map();\n    StoreTypesMap.set(store, typesMap);\n  }\n\n  return typesMap;\n}\n\n/**\n  Implements `@ember/debug/data-adapter` with for EmberData\n  integration with the ember-inspector.\n\n  @class InspectorDataAdapter\n  @extends DataAdapter\n  @private\n*/\nclass InspectorDataAdapter extends DataAdapter<Model> {\n  @service('store') declare store: Store;\n\n  /**\n    Specifies how records can be filtered based on the state of the record\n    Records returned will need to have a `filterValues`\n    property with a key for every name in the returned array\n\n    @method getFilters\n    @private\n    @return {Array} List of objects defining filters\n     The object should have a `name` and `desc` property\n  */\n  getFilters() {\n    return [\n      { name: 'isNew', desc: 'New' },\n      { name: 'isModified', desc: 'Modified' },\n      { name: 'isClean', desc: 'Clean' },\n    ];\n  }\n\n  _nameToClass(type: string) {\n    return this.store.modelFor(type);\n  }\n\n  /**\n    Fetch the model types and observe them for changes.\n    Maintains the list of model types without needing the Model package for detection.\n\n    @method watchModelTypes\n    @private\n    @param {Function} typesAdded Callback to call to add types.\n    Takes an array of objects containing wrapped types (returned from `wrapModelType`).\n    @param {Function} typesUpdated Callback to call when a type has changed.\n    Takes an array of objects containing wrapped types.\n    @return {Function} Method to call to remove all observers\n  */\n  watchModelTypes(typesAdded: WrappedTypeCallback, typesUpdated: WrappedTypeCallback) {\n    const { store } = this;\n\n    const discoveredTypes = typesMapFor(store);\n    const unsub = store.notifications.subscribe('resource', (identifier, notificationType) => {\n      if (notificationType === 'added') {\n        this.watchTypeIfUnseen(store, discoveredTypes, identifier.type, typesAdded, typesUpdated, _releaseMethods);\n      }\n    });\n\n    const _releaseMethods = [\n      () => {\n        store.notifications.unsubscribe(unsub);\n      },\n    ];\n\n    Object.keys(store.identifierCache._cache.resourcesByType).forEach((type) => {\n      discoveredTypes.set(type, false);\n    });\n\n    // Add any models that were added during initialization of the app, before the inspector was opened\n    discoveredTypes.forEach((_, type) => {\n      this.watchTypeIfUnseen(store, discoveredTypes, type, typesAdded, typesUpdated, _releaseMethods);\n    });\n\n    const release = () => {\n      _releaseMethods.forEach((fn) => fn());\n      // reset the list so the models can be added if the inspector is re-opened\n      // the entries are set to false instead of removed, since the models still exist in the app\n      // we just need the inspector to become aware of them\n      discoveredTypes.forEach((value, key) => {\n        discoveredTypes.set(key, false);\n      });\n      this.releaseMethods.removeObject(release);\n    };\n    this.releaseMethods.pushObject(release);\n    return release;\n  }\n\n  /**\n   * Loop over the discovered types and use the callbacks from watchModelTypes to notify\n   * the consumer of this adapter about the mdoels.\n   *\n   * @method watchTypeIfUnseen\n   * @param {store} store\n   * @param {Map} discoveredTypes\n   * @param {String} type\n   * @param {Function} typesAdded\n   * @param {Function} typesUpdated\n   * @param {Array} releaseMethods\n   * @private\n   */\n  watchTypeIfUnseen(\n    store: Store,\n    discoveredTypes: Map<string, boolean>,\n    type: string,\n    typesAdded: WrappedTypeCallback,\n    typesUpdated: WrappedTypeCallback,\n    releaseMethods: Array<() => void>\n  ) {\n    if (discoveredTypes.get(type) !== true) {\n      const klass = store.modelFor(type);\n      installDebugInfo(klass as typeof Model);\n      const wrapped = this.wrapModelType(klass, type);\n      releaseMethods.push(this.observeModelType(type, typesUpdated));\n      typesAdded([wrapped]);\n      discoveredTypes.set(type, true);\n    }\n  }\n\n  /**\n    Creates a human readable string used for column headers\n\n    @method columnNameToDesc\n    @private\n    @param {String} name The attribute name\n    @return {String} Human readable string based on the attribute name\n  */\n  columnNameToDesc(name: string) {\n    return capitalize(underscore(name).replace(/_/g, ' ').trim());\n  }\n\n  /**\n    Get the columns for a given model type\n\n    @method columnsForType\n    @private\n    @param {Model} typeClass\n    @return {Array} An array of columns of the following format:\n     name: {String} The name of the column\n     desc: {String} Humanized description (what would show in a table column name)\n  */\n  columnsForType(typeClass: ModelSchema) {\n    const columns = [\n      {\n        name: 'id',\n        desc: 'Id',\n      },\n    ];\n    let count = 0;\n    typeClass.attributes.forEach((meta, name) => {\n      if (count++ > this.attributeLimit) {\n        return false;\n      }\n      const desc = this.columnNameToDesc(name);\n      columns.push({ name: name, desc: desc });\n    });\n    return columns;\n  }\n\n  /**\n    Fetches all loaded records for a given type\n\n    @method getRecords\n    @private\n    @param {Model} modelClass of the record\n    @param {String} modelName of the record\n    @return {Array} An array of Model records\n     This array will be observed for changes,\n     so it should update when new records are added/removed\n  */\n  getRecords(modelClass: ModelSchema, modelName: string) {\n    if (arguments.length < 2) {\n      // Legacy Ember.js < 1.13 support\n      const containerKey = (modelClass as unknown as { _debugContainerKey?: string })._debugContainerKey;\n      if (containerKey) {\n        const match = containerKey.match(/model:(.*)/);\n        if (match !== null) {\n          modelName = match[1];\n        }\n      }\n    }\n    assert('Cannot find model name. Please upgrade to Ember.js >= 1.13 for Ember Inspector support', !!modelName);\n    return this.store.peekAll(modelName) as unknown as NativeArray<Model>;\n  }\n\n  /**\n    Gets the values for each column\n    This is the attribute values for a given record\n\n    @method getRecordColumnValues\n    @private\n    @param {Model} record to get values from\n    @return {Object} Keys should match column names defined by the model type\n  */\n  getRecordColumnValues<T extends Model>(record: T) {\n    let count = 0;\n    const columnValues: Record<string, unknown> = { id: record.id };\n\n    record.eachAttribute((key) => {\n      if (count++ > this.attributeLimit) {\n        return false;\n      }\n      columnValues[key] = record[key as keyof T];\n    });\n    return columnValues;\n  }\n\n  /**\n    Returns keywords to match when searching records\n\n    @method getRecordKeywords\n    @private\n    @param {Model} record\n    @return {Array} Relevant keywords for search based on the record's attribute values\n  */\n  getRecordKeywords<T extends Model>(record: T): NativeArray<unknown> {\n    const keywords: unknown[] = [record.id];\n    const keys = ['id'];\n\n    record.eachAttribute((key) => {\n      keys.push(key);\n      keywords.push(record[key as keyof T]);\n    });\n\n    return A(keywords);\n  }\n\n  /**\n    Returns the values of filters defined by `getFilters`\n    These reflect the state of the record\n\n    @method getRecordFilterValues\n    @private\n    @param {Model} record\n    @return {Object} The record state filter values\n  */\n  getRecordFilterValues(record: Model) {\n    return {\n      isNew: record.isNew,\n      isModified: record.hasDirtyAttributes && !record.isNew,\n      isClean: !record.hasDirtyAttributes,\n    };\n  }\n\n  /**\n    Returns a color that represents the record's state\n    Possible colors: black, blue, green\n\n    @method getRecordColor\n    @private\n    @param {Model} record\n    @return {String} The record color\n  */\n  getRecordColor(record: Model) {\n    let color = 'black';\n    if (record.isNew) {\n      color = 'green';\n    } else if (record.hasDirtyAttributes) {\n      color = 'blue';\n    }\n    return color as RecordColor;\n  }\n\n  /**\n    Observes all relevant properties and re-sends the wrapped record\n    when a change occurs\n\n    @method observeRecord\n    @private\n    @param {Model} record\n    @param {Function} recordUpdated Callback used to notify changes\n    @return {Function} The function to call to remove all observers\n  */\n  observeRecord(record: Model, recordUpdated: (record: WrappedRecord<Model>) => void) {\n    const releaseMethods: Array<() => void> = [];\n    const keysToObserve = ['id', 'isNew', 'hasDirtyAttributes'];\n\n    record.eachAttribute((key: string) => keysToObserve.push(key));\n\n    keysToObserve.forEach((key) => {\n      const handler = () => {\n        recordUpdated(this.wrapRecord(record));\n      };\n      addObserver(record, key, handler);\n      releaseMethods.push(function () {\n        removeObserver(record, key, handler);\n      });\n    });\n\n    const release = function () {\n      releaseMethods.forEach((fn) => fn());\n    };\n\n    return release;\n  }\n}\n\nexport default macroCondition(\n  getGlobalConfig<{ WarpDrive: { includeDataAdapter: boolean } }>().WarpDrive.includeDataAdapter\n)\n  ? InspectorDataAdapter\n  : null;\n"],"names":["deferred","WeakMap","deferDecorator","proto","prop","desc","map","get","Map","set","findDeferredDecorator","target","_a","cursor","prototype","decorateFieldV2","decorators","initializer","configurable","enumerable","writable","decorator","Object","defineProperty","initializeDeferredDecorator","constructor","value","call","service","s","inject","StoreTypesMap","debugInfo","relationships","expensiveProperties","identifier","recordIdentifierFor","fields","store","schema","attrGroup","name","properties","expand","attributes","groups","field","values","kind","push","undefined","propertyInfo","includeOtherProperties","installDebugInfo","ModelKlass","_debugInfo","typesMapFor","typesMap","InspectorDataAdapter","DataAdapter","g","i","void 0","getFilters","_nameToClass","type","modelFor","watchModelTypes","typesAdded","typesUpdated","discoveredTypes","unsub","notifications","subscribe","notificationType","watchTypeIfUnseen","_releaseMethods","unsubscribe","keys","identifierCache","_cache","resourcesByType","forEach","_","release","fn","key","releaseMethods","removeObject","pushObject","klass","wrapped","wrapModelType","observeModelType","columnNameToDesc","capitalize","underscore","replace","trim","columnsForType","typeClass","columns","count","meta","attributeLimit","getRecords","modelClass","modelName","arguments","length","containerKey","_debugContainerKey","match","macroCondition","getGlobalConfig","WarpDrive","env","DEBUG","test","Error","peekAll","getRecordColumnValues","record","columnValues","id","eachAttribute","getRecordKeywords","keywords","A","getRecordFilterValues","isNew","isModified","hasDirtyAttributes","isClean","getRecordColor","color","observeRecord","recordUpdated","keysToObserve","handler","wrapRecord","addObserver","removeObserver","includeDataAdapter"],"mappings":";;;;;;;;AAuBA,MAAMA,QAAA,sBAGEC,OAAA,EAAA;AAER,SAASC,eACPC,KAAA,EACAC,IAAA,EACAC,IAAA,EACM;AACF,EAAA,IAAAC,GAAA,GAAMN,QAAA,CAASO,GAAA,CAAIJ,KAAK,CAAA;EAC5B,IAAI,CAACG,GAAA,EAAK;AACRA,IAAAA,GAAA,sBAAUE,GAAA,EAAA;AACDR,IAAAA,QAAA,CAAAS,GAAA,CAAIN,KAAA,EAAOG,GAAG,CAAA;AACzB;AACIA,EAAAA,GAAA,CAAAG,GAAA,CAAIL,IAAA,EAAMC,IAAI,CAAA;AACpB;AAEA,SAASK,qBACPC,CAAAA,MAAA,EACAP,IAAA,EACwB;AArB1B,EAAA,IAAAQ,EAAA;AAsBE,EAAA,IAAIC,MAAA,GAAkBF,MAAA,CAAeG,SAAA;AACrC,EAAA,OAAOD,MAAA,EAAQ;AACb,IAAA,IAAIR,IAAA,GAAA,CAAOO,EAAA,GAAAZ,QAAA,CAASO,GAAA,CAAIM,MAAM,MAAnB,IAAAD,GAAAA,MAAAA,GAAAA,EAAA,CAAsBL,GAAA,CAAIH,IAAA,CAAA;AACrC,IAAA,IAAIC,IAAA,EAAM;AACD,MAAA,OAAAA,IAAA;AACT;IACAQ,MAAA,GAAUA,MAAA,CAAeC,SAAA;AAC3B;AACF;AAWA,SAASC,eAAAA,CACPD,SAAA,EACAV,IAAA,EACAY,UAAA,EACAC,WAAA,EACM;AACN,EAAA,IAAIZ,IAAA,GAAmB;AACrBa,IAAAA,YAAA,EAAc,IAAA;AACdC,IAAAA,UAAA,EAAY,IAAA;AACZC,IAAAA,QAAA,EAAU,IAAA;AACVH,IAAAA,WAAA,EAAa;AAAA,GAAA;AAEf,EAAA,IAAIA,WAAA,EAAa;IACfZ,IAAA,CAAKY,WAAA,GAAcA,WAAA;AACrB;EACA,KAASI,IAAAA,SAAA,IAAaL,UAAA,EAAY;IAChCX,IAAA,GAAOgB,SAAA,CAAUP,SAAA,EAAWV,IAAA,EAAMC,IAAI,CAAA,IAAKA,IAAA;AAC7C;AACI,EAAA,IAAAA,IAAA,CAAKY,WAAA,KAAgB,MAAW,EAAA;AAC3BK,IAAAA,MAAA,CAAAC,cAAA,CAAeT,SAAA,EAAWV,IAAA,EAAMC,IAAI,CAAA;GACtC,MAAA;AACUH,IAAAA,cAAA,CAAAY,SAAA,EAAWV,IAAA,EAAMC,IAAI,CAAA;AACtC;AACF;AA2BA,SAASmB,2BACPb,CAAAA,MAAA,EACAP,IAAA,EACM;EACN,IAAIC,IAAA,GAAOK,qBAAA,CAAsBC,MAAA,CAAOc,WAAA,EAAarB,IAAI,CAAA;AACzD,EAAA,IAAIC,IAAA,EAAM;AACDiB,IAAAA,MAAA,CAAAC,cAAA,CAAeZ,MAAA,EAAQP,IAAA,EAAM;MAClCe,UAAA,EAAYd,IAAA,CAAKc,UAAA;MACjBD,YAAA,EAAcb,IAAA,CAAKa,YAAA;MACnBE,QAAA,EAAUf,IAAA,CAAKe,QAAA;AACfM,MAAAA,KAAA,EAAOrB,IAAA,CAAKY,WAAA,GAAcZ,IAAA,CAAKY,WAAA,CAAYU,IAAA,CAAKhB,MAAM,CAAI,GAAA;KAC3D,CAAA;AACH;AACF;;AC/HA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAgBA,MAAMiB,OAAO,GAAGC,CAAC,CAACD,OAAO,IAAIC,CAAC,CAACC,MAAM;AACrC,MAAMC,aAAa,GAAG,IAAI9B,OAAO,EAA+B;AAsBhE,SAAS+B,SAASA,GAAc;EAC9B,MAAMC,aAA+C,GAAG,EAAE;EAC1D,MAAMC,mBAA6B,GAAG,EAAE;AAExC,EAAA,MAAMC,UAAU,GAAGC,mBAAmB,CAAC,IAAI,CAAC;EAC5C,MAAMC,MAAM,GAAG,IAAI,CAACC,KAAK,CAACC,MAAM,CAACF,MAAM,CAACF,UAAU,CAAC;AAEnD,EAAA,MAAMK,SAAS,GAAG;AAChBC,IAAAA,IAAI,EAAE,YAAY;IAClBC,UAAU,EAAE,CAAC,IAAI,CAAC;AAClBC,IAAAA,MAAM,EAAE;GACT;AACD,EAAA,MAAMC,UAAU,GAAGJ,SAAS,CAACE,UAAU;AACvC,EAAA,MAAMG,MAAM,GAAG,CAACL,SAAS,CAAC;EAE1B,KAAK,MAAMM,KAAK,IAAIT,MAAM,CAACU,MAAM,EAAE,EAAE;IACnC,QAAQD,KAAK,CAACE,IAAI;AAChB,MAAA,KAAK,WAAW;AACdJ,QAAAA,UAAU,CAACK,IAAI,CAACH,KAAK,CAACL,IAAI,CAAC;AAC3B,QAAA;AACF,MAAA,KAAK,WAAW;AAChB,MAAA,KAAK,SAAS;AAAE,QAAA;AACd,UAAA,IAAIC,UAAgC,GAAGT,aAAa,CAACa,KAAK,CAACE,IAAI,CAAC;UAEhE,IAAIN,UAAU,KAAKQ,SAAS,EAAE;YAC5BR,UAAU,GAAGT,aAAa,CAACa,KAAK,CAACE,IAAI,CAAC,GAAG,EAAE;YAC3CH,MAAM,CAACI,IAAI,CAAC;cACVR,IAAI,EAAEK,KAAK,CAACE,IAAI;cAChBN,UAAU;AACVC,cAAAA,MAAM,EAAE;AACV,aAAC,CAAC;AACJ;AACAD,UAAAA,UAAU,CAACO,IAAI,CAACH,KAAK,CAACL,IAAI,CAAC;AAC3BP,UAAAA,mBAAmB,CAACe,IAAI,CAACH,KAAK,CAACL,IAAI,CAAC;AACpC,UAAA;AACF;AACF;AACF;EAEAI,MAAM,CAACI,IAAI,CAAC;AACVR,IAAAA,IAAI,EAAE,OAAO;AACbC,IAAAA,UAAU,EAAE,CAAC,UAAU,EAAE,oBAAoB,EAAE,UAAU,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC;AACtGC,IAAAA,MAAM,EAAE;AACV,GAAC,CAAC;EAEF,OAAO;AACLQ,IAAAA,YAAY,EAAE;AACZ;AACAC,MAAAA,sBAAsB,EAAE,IAAI;AAC5BP,MAAAA,MAAM,EAAEA,MAAM;AACd;AACAX,MAAAA,mBAAmB,EAAEA;AACvB;GACD;AACH;AAEA,SAASmB,gBAAgBA,CAACC,UAAwB,EAAE;AAClD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIGA,EAAAA,UAAU,CAACxC,SAAS,CAAiDyC,UAAU,GAAGvB,SAAS;AAC9F;AAEA,SAASwB,WAAWA,CAAClB,KAAY,EAAwB;AACvD,EAAA,IAAImB,QAAQ,GAAG1B,aAAa,CAACxB,GAAG,CAAC+B,KAAK,CAAC;EAEvC,IAAImB,QAAQ,KAAKP,SAAS,EAAE;AAC1BO,IAAAA,QAAQ,GAAG,IAAIjD,GAAG,EAAE;AACpBuB,IAAAA,aAAa,CAACtB,GAAG,CAAC6B,KAAK,EAAEmB,QAAQ,CAAC;AACpC;AAEA,EAAA,OAAOA,QAAQ;AACjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAMC,oBAAoB,SAASC,WAAW,CAAQ;AAAA,EAAA;AAAAC,IAAAA,eAAA,MAAA9C,SAAA,EAAA,OAAA,EAAA,CACnDc,OAAO,CAAC,OAAO,CAAC,CAAA,CAAA;AAAA;AAAA,EAAA,MAAA,IAAAiC,2BAAA,CAAA,IAAA,EAAA,OAAA,CAAA,EAAAC,MAAA;AAEjB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEEC,EAAAA,UAAUA,GAAG;AACX,IAAA,OAAO,CACL;AAAEtB,MAAAA,IAAI,EAAE,OAAO;AAAEpC,MAAAA,IAAI,EAAE;AAAM,KAAC,EAC9B;AAAEoC,MAAAA,IAAI,EAAE,YAAY;AAAEpC,MAAAA,IAAI,EAAE;AAAW,KAAC,EACxC;AAAEoC,MAAAA,IAAI,EAAE,SAAS;AAAEpC,MAAAA,IAAI,EAAE;AAAQ,KAAC,CACnC;AACH;EAEA2D,YAAYA,CAACC,IAAY,EAAE;AACzB,IAAA,OAAO,IAAI,CAAC3B,KAAK,CAAC4B,QAAQ,CAACD,IAAI,CAAC;AAClC;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEEE,EAAAA,eAAeA,CAACC,UAA+B,EAAEC,YAAiC,EAAE;IAClF,MAAM;AAAE/B,MAAAA;AAAM,KAAC,GAAG,IAAI;AAEtB,IAAA,MAAMgC,eAAe,GAAGd,WAAW,CAAClB,KAAK,CAAC;AAC1C,IAAA,MAAMiC,KAAK,GAAGjC,KAAK,CAACkC,aAAa,CAACC,SAAS,CAAC,UAAU,EAAE,CAACtC,UAAU,EAAEuC,gBAAgB,KAAK;MACxF,IAAIA,gBAAgB,KAAK,OAAO,EAAE;AAChC,QAAA,IAAI,CAACC,iBAAiB,CAACrC,KAAK,EAAEgC,eAAe,EAAEnC,UAAU,CAAC8B,IAAI,EAAEG,UAAU,EAAEC,YAAY,EAAEO,eAAe,CAAC;AAC5G;AACF,KAAC,CAAC;IAEF,MAAMA,eAAe,GAAG,CACtB,MAAM;AACJtC,MAAAA,KAAK,CAACkC,aAAa,CAACK,WAAW,CAACN,KAAK,CAAC;AACxC,KAAC,CACF;AAEDjD,IAAAA,MAAM,CAACwD,IAAI,CAACxC,KAAK,CAACyC,eAAe,CAACC,MAAM,CAACC,eAAe,CAAC,CAACC,OAAO,CAAEjB,IAAI,IAAK;AAC1EK,MAAAA,eAAe,CAAC7D,GAAG,CAACwD,IAAI,EAAE,KAAK,CAAC;AAClC,KAAC,CAAC;;AAEF;AACAK,IAAAA,eAAe,CAACY,OAAO,CAAC,CAACC,CAAC,EAAElB,IAAI,KAAK;AACnC,MAAA,IAAI,CAACU,iBAAiB,CAACrC,KAAK,EAAEgC,eAAe,EAAEL,IAAI,EAAEG,UAAU,EAAEC,YAAY,EAAEO,eAAe,CAAC;AACjG,KAAC,CAAC;IAEF,MAAMQ,OAAO,GAAGA,MAAM;MACpBR,eAAe,CAACM,OAAO,CAAEG,EAAE,IAAKA,EAAE,EAAE,CAAC;AACrC;AACA;AACA;AACAf,MAAAA,eAAe,CAACY,OAAO,CAAC,CAACxD,KAAK,EAAE4D,GAAG,KAAK;AACtChB,QAAAA,eAAe,CAAC7D,GAAG,CAAC6E,GAAG,EAAE,KAAK,CAAC;AACjC,OAAC,CAAC;AACF,MAAA,IAAI,CAACC,cAAc,CAACC,YAAY,CAACJ,OAAO,CAAC;KAC1C;AACD,IAAA,IAAI,CAACG,cAAc,CAACE,UAAU,CAACL,OAAO,CAAC;AACvC,IAAA,OAAOA,OAAO;AAChB;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACET,EAAAA,iBAAiBA,CACfrC,KAAY,EACZgC,eAAqC,EACrCL,IAAY,EACZG,UAA+B,EAC/BC,YAAiC,EACjCkB,cAAiC,EACjC;IACA,IAAIjB,eAAe,CAAC/D,GAAG,CAAC0D,IAAI,CAAC,KAAK,IAAI,EAAE;AACtC,MAAA,MAAMyB,KAAK,GAAGpD,KAAK,CAAC4B,QAAQ,CAACD,IAAI,CAAC;MAClCZ,gBAAgB,CAACqC,KAAqB,CAAC;MACvC,MAAMC,OAAO,GAAG,IAAI,CAACC,aAAa,CAACF,KAAK,EAAEzB,IAAI,CAAC;MAC/CsB,cAAc,CAACtC,IAAI,CAAC,IAAI,CAAC4C,gBAAgB,CAAC5B,IAAI,EAAEI,YAAY,CAAC,CAAC;AAC9DD,MAAAA,UAAU,CAAC,CAACuB,OAAO,CAAC,CAAC;AACrBrB,MAAAA,eAAe,CAAC7D,GAAG,CAACwD,IAAI,EAAE,IAAI,CAAC;AACjC;AACF;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;EAEE6B,gBAAgBA,CAACrD,IAAY,EAAE;AAC7B,IAAA,OAAOsD,UAAU,CAACC,UAAU,CAACvD,IAAI,CAAC,CAACwD,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACC,IAAI,EAAE,CAAC;AAC/D;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEEC,cAAcA,CAACC,SAAsB,EAAE;IACrC,MAAMC,OAAO,GAAG,CACd;AACE5D,MAAAA,IAAI,EAAE,IAAI;AACVpC,MAAAA,IAAI,EAAE;AACR,KAAC,CACF;IACD,IAAIiG,KAAK,GAAG,CAAC;IACbF,SAAS,CAACxD,UAAU,CAACsC,OAAO,CAAC,CAACqB,IAAI,EAAE9D,IAAI,KAAK;AAC3C,MAAA,IAAI6D,KAAK,EAAE,GAAG,IAAI,CAACE,cAAc,EAAE;AACjC,QAAA,OAAO,KAAK;AACd;AACA,MAAA,MAAMnG,IAAI,GAAG,IAAI,CAACyF,gBAAgB,CAACrD,IAAI,CAAC;MACxC4D,OAAO,CAACpD,IAAI,CAAC;AAAER,QAAAA,IAAI,EAAEA,IAAI;AAAEpC,QAAAA,IAAI,EAAEA;AAAK,OAAC,CAAC;AAC1C,KAAC,CAAC;AACF,IAAA,OAAOgG,OAAO;AAChB;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEEI,EAAAA,UAAUA,CAACC,UAAuB,EAAEC,SAAiB,EAAE;AACrD,IAAA,IAAIC,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;AACxB;AACA,MAAA,MAAMC,YAAY,GAAIJ,UAAU,CAAgDK,kBAAkB;AAClG,MAAA,IAAID,YAAY,EAAE;AAChB,QAAA,MAAME,KAAK,GAAGF,YAAY,CAACE,KAAK,CAAC,YAAY,CAAC;QAC9C,IAAIA,KAAK,KAAK,IAAI,EAAE;AAClBL,UAAAA,SAAS,GAAGK,KAAK,CAAC,CAAC,CAAC;AACtB;AACF;AACF;IACAC,cAAA,CAAAC,eAAA,EAAAC,CAAAA,SAAA,CAAAC,GAAA,CAAAC,KAAA,CAAA,GAAA,CAAAC,IAAA,IAAA;AAAA,MAAA,IAAA,CAAAA,IAAA,EAAA;QAAA,MAAAC,IAAAA,KAAA,CAAO,wFAAwF,CAAA;AAAA;KAAE,EAAA,CAAC,CAACZ,SAAS,CAAA,GAAA,EAAA;AAC5G,IAAA,OAAO,IAAI,CAACrE,KAAK,CAACkF,OAAO,CAACb,SAAS,CAAC;AACtC;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EAEEc,qBAAqBA,CAAkBC,MAAS,EAAE;IAChD,IAAIpB,KAAK,GAAG,CAAC;AACb,IAAA,MAAMqB,YAAqC,GAAG;MAAEC,EAAE,EAAEF,MAAM,CAACE;KAAI;AAE/DF,IAAAA,MAAM,CAACG,aAAa,CAAEvC,GAAG,IAAK;AAC5B,MAAA,IAAIgB,KAAK,EAAE,GAAG,IAAI,CAACE,cAAc,EAAE;AACjC,QAAA,OAAO,KAAK;AACd;AACAmB,MAAAA,YAAY,CAACrC,GAAG,CAAC,GAAGoC,MAAM,CAACpC,GAAG,CAAY;AAC5C,KAAC,CAAC;AACF,IAAA,OAAOqC,YAAY;AACrB;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;EAEEG,iBAAiBA,CAAkBJ,MAAS,EAAwB;AAClE,IAAA,MAAMK,QAAmB,GAAG,CAACL,MAAM,CAACE,EAAE,CAAC;AAGvCF,IAAAA,MAAM,CAACG,aAAa,CAAEvC,GAAG,IAAK;AAE5ByC,MAAAA,QAAQ,CAAC9E,IAAI,CAACyE,MAAM,CAACpC,GAAG,CAAY,CAAC;AACvC,KAAC,CAAC;IAEF,OAAO0C,CAAC,CAACD,QAAQ,CAAC;AACpB;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EAEEE,qBAAqBA,CAACP,MAAa,EAAE;IACnC,OAAO;MACLQ,KAAK,EAAER,MAAM,CAACQ,KAAK;MACnBC,UAAU,EAAET,MAAM,CAACU,kBAAkB,IAAI,CAACV,MAAM,CAACQ,KAAK;MACtDG,OAAO,EAAE,CAACX,MAAM,CAACU;KAClB;AACH;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EAEEE,cAAcA,CAACZ,MAAa,EAAE;IAC5B,IAAIa,KAAK,GAAG,OAAO;IACnB,IAAIb,MAAM,CAACQ,KAAK,EAAE;AAChBK,MAAAA,KAAK,GAAG,OAAO;AACjB,KAAC,MAAM,IAAIb,MAAM,CAACU,kBAAkB,EAAE;AACpCG,MAAAA,KAAK,GAAG,MAAM;AAChB;AACA,IAAA,OAAOA,KAAK;AACd;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEEC,EAAAA,aAAaA,CAACd,MAAa,EAAEe,aAAqD,EAAE;IAClF,MAAMlD,cAAiC,GAAG,EAAE;IAC5C,MAAMmD,aAAa,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,oBAAoB,CAAC;IAE3DhB,MAAM,CAACG,aAAa,CAAEvC,GAAW,IAAKoD,aAAa,CAACzF,IAAI,CAACqC,GAAG,CAAC,CAAC;AAE9DoD,IAAAA,aAAa,CAACxD,OAAO,CAAEI,GAAG,IAAK;MAC7B,MAAMqD,OAAO,GAAGA,MAAM;AACpBF,QAAAA,aAAa,CAAC,IAAI,CAACG,UAAU,CAAClB,MAAM,CAAC,CAAC;OACvC;AACDmB,MAAAA,WAAW,CAACnB,MAAM,EAAEpC,GAAG,EAAEqD,OAAO,CAAC;MACjCpD,cAAc,CAACtC,IAAI,CAAC,YAAY;AAC9B6F,QAAAA,cAAc,CAACpB,MAAM,EAAEpC,GAAG,EAAEqD,OAAO,CAAC;AACtC,OAAC,CAAC;AACJ,KAAC,CAAC;AAEF,IAAA,MAAMvD,OAAO,GAAG,YAAY;MAC1BG,cAAc,CAACL,OAAO,CAAEG,EAAE,IAAKA,EAAE,EAAE,CAAC;KACrC;AAED,IAAA,OAAOD,OAAO;AAChB;AACF;AAEA,oBAAe6B,cAAc,CAC3BC,eAAe,EAAkD,CAACC,SAAS,CAAC4B,kBAC9E,CAAC,GACGrF,oBAAoB,GACpB,IAAI;;;;","x_google_ignoreList":[0]}