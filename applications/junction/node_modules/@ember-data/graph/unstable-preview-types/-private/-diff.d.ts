declare module '@ember-data/graph/-private/-diff' {
  import type { StableRecordIdentifier } from '@warp-drive/core-types';
  import type { CollectionEdge } from '@ember-data/graph/-private/edges/collection';
  import type { ResourceEdge } from '@ember-data/graph/-private/edges/resource';
  import type { Graph } from '@ember-data/graph/-private/graph';
  type Diff<T> = {
      add: Set<T>;
      del: Set<T>;
      finalState: T[];
      finalSet: Set<T>;
      changed: boolean;
      remoteOrderChanged: boolean;
  };
  export function diffCollection(finalState: StableRecordIdentifier[], relationship: CollectionEdge, onAdd: (v: StableRecordIdentifier) => void, onDel: (v: StableRecordIdentifier) => void): Diff<StableRecordIdentifier>;
  export function computeLocalState(storage: CollectionEdge): StableRecordIdentifier[];
  /**
   * A function which attempts to add a value to the local state of a collection
   * relationship, and returns true if the value was added, or false if it was
   * already present.
   *
   * It will not generate a notification, will not update the relationships to dirty,
   * and will not update the inverse relationships, making it suitable for use as
   * an internal util to perform the just the addition to a specific side of a
   * relationship.
   *
   * @internal
   */
  export function _add(graph: Graph, record: StableRecordIdentifier, relationship: CollectionEdge, value: StableRecordIdentifier, index: number | null, isRemote: boolean): boolean;
  export function _remove(graph: Graph, record: StableRecordIdentifier, relationship: CollectionEdge, value: StableRecordIdentifier, index: number | null, isRemote: boolean): boolean;
  export function _removeLocal(relationship: CollectionEdge, value: StableRecordIdentifier): boolean;
  export function _removeRemote(relationship: CollectionEdge, value: StableRecordIdentifier): boolean;
  export function rollbackRelationship(graph: Graph, identifier: StableRecordIdentifier, field: string, relationship: CollectionEdge | ResourceEdge): void;
  export {};
}
//# sourceMappingURL=-diff.d.ts.map