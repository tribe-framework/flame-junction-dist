{"version":3,"file":"has-many-DT3JBYYG.js","sources":["../src/-private/attr.ts","../src/-private/belongs-to.ts","../src/-private/has-many.ts"],"sourcesContent":["/**\n  @module @ember-data/model\n*/\nimport { computed } from '@ember/object';\n\nimport { recordIdentifierFor } from '@ember-data/store';\nimport { peekCache } from '@ember-data/store/-private';\nimport { DEBUG } from '@warp-drive/build-config/env';\nimport { assert } from '@warp-drive/build-config/macros';\nimport type { ArrayValue, ObjectValue, PrimitiveValue, Value } from '@warp-drive/core-types/json/raw';\nimport type { TransformName } from '@warp-drive/core-types/symbols';\n\nimport type { Model } from './model';\nimport type { DecoratorPropertyDescriptor } from './util';\nimport { isElementDescriptor } from './util';\n\n/**\n * Options provided to the attr decorator are\n * supplied to the associated transform. Any\n * key-value pair is valid; however, it is highly\n * recommended to only use statically defined values\n * that could be serialized to JSON.\n *\n * If no transform is provided, the only valid\n * option is `defaultValue`.\n *\n * Examples:\n *\n * ```ts\n * class User extends Model {\n *  @attr('string', { defaultValue: 'Anonymous' }) name;\n *  @attr('date', { defaultValue: () => new Date() }) createdAt;\n *  @attr({ defaultValue: () => ({}) }) preferences;\n *  @attr('boolean') hasVerifiedEmail;\n *  @attr address;\n * }\n *\n * @class NOTATHING\n * @typedoc\n */\nexport type AttrOptions<DV = PrimitiveValue | object | unknown[]> = {\n  /**\n   * The default value for this attribute.\n   *\n   * Default values can be provided as a value or a function that will be\n   * executed to generate the default value.\n   *\n   * Default values *should not* be stateful (object, arrays, etc.) as\n   * they will be shared across all instances of the record.\n   *\n   * @typedoc\n   */\n  defaultValue?: DV extends PrimitiveValue ? DV : () => DV;\n};\n\nfunction _attr(type?: string | AttrOptions, options?: AttrOptions) {\n  if (typeof type === 'object') {\n    options = type;\n    type = undefined;\n  } else {\n    options = options || {};\n  }\n\n  const meta = {\n    type: type,\n    kind: 'attribute',\n    isAttribute: true,\n    options: options,\n    key: null,\n  };\n\n  return computed({\n    get(this: Model, key: string) {\n      if (DEBUG) {\n        if (['currentState'].includes(key)) {\n          throw new Error(\n            `'${key}' is a reserved property name on instances of classes extending Model. Please choose a different property name for your attr on ${this.constructor.toString()}`\n          );\n        }\n      }\n      if (this.isDestroyed || this.isDestroying) {\n        return;\n      }\n      return peekCache(this).getAttr(recordIdentifierFor(this), key);\n    },\n    set(this: Model, key: string, value: Value) {\n      if (DEBUG) {\n        if (['currentState'].includes(key)) {\n          throw new Error(\n            `'${key}' is a reserved property name on instances of classes extending Model. Please choose a different property name for your attr on ${this.constructor.toString()}`\n          );\n        }\n      }\n      const identifier = recordIdentifierFor(this);\n      assert(\n        `Attempted to set '${key}' on the deleted record ${identifier.type}:${identifier.id} (${identifier.lid})`,\n        !this.currentState.isDeleted\n      );\n      const cache = peekCache(this);\n\n      const currentValue = cache.getAttr(identifier, key);\n      if (currentValue !== value) {\n        cache.setAttr(identifier, key, value);\n\n        if (!this.isValid) {\n          const { errors } = this;\n\n          if (errors.get(key)) {\n            errors.remove(key);\n            this.currentState.cleanErrorRequests();\n          }\n        }\n      }\n\n      return value;\n    },\n  }).meta(meta);\n}\n\n// NOTE: Usage of Explicit ANY\n// -------------------------------------------------------------------\n// any is required here because we are the maximal not the minimal\n// subset of options allowed. If we used unknown, object, or\n// Record<string, unknown> we would get type errors when we try to\n// assert against a more specific implementation with precise options.\n// -------------------------------------------------------------------\n\ntype LooseTransformInstance<V, Raw, Name extends string> = {\n  /**\n   * value type must match the return type of the deserialize method\n   *\n   * @typedoc\n   */\n  // see note on Explicit ANY above\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  serialize: (value: V, options: any) => Raw;\n  /**\n   * defaultValue type must match the return type of the deserialize method\n   *\n   * @typedoc\n   */\n  // see note on Explicit ANY above\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  deserialize: (value: Raw, options: any) => V;\n\n  [TransformName]: Name;\n};\nexport type TransformHasType = { [TransformName]: string };\n\nexport type TypedTransformInstance<V, T extends string> =\n  | LooseTransformInstance<V, string, T>\n  | LooseTransformInstance<V, number, T>\n  | LooseTransformInstance<V, boolean, T>\n  | LooseTransformInstance<V, null, T>\n  | LooseTransformInstance<V, ObjectValue, T>\n  | LooseTransformInstance<V, ArrayValue, T>\n  | LooseTransformInstance<V, string | null, T>\n  | LooseTransformInstance<V, number | null, T>\n  | LooseTransformInstance<V, boolean | null, T>\n  | LooseTransformInstance<V, ObjectValue | null, T>\n  | LooseTransformInstance<V, ArrayValue | null, T>;\n\n// see note on Explicit ANY above\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type GetMaybeDeserializeValue<T> = T extends { deserialize: (...args: any[]) => unknown }\n  ? ReturnType<T['deserialize']>\n  : never;\n\nexport type TypeFromInstance<T> = T extends TransformHasType ? T[typeof TransformName] : never;\nexport type ExtractOptions<T extends TypedTransformInstance<GetMaybeDeserializeValue<T>, TypeFromInstance<T>>> =\n  Parameters<T['deserialize']>[1] & Parameters<T['serialize']>[1] & AttrOptions<ReturnType<T['deserialize']>>;\nexport type OptionsFromInstance<T> =\n  TypeFromInstance<T> extends never\n    ? never\n    : GetMaybeDeserializeValue<T> extends never\n      ? never\n      : T extends TypedTransformInstance<GetMaybeDeserializeValue<T>, TypeFromInstance<T>>\n        ? Parameters<T['deserialize']>[1] & Parameters<T['serialize']>[1] & AttrOptions<ReturnType<T['deserialize']>>\n        : never;\n\n/**\n * The return type of `void` is a lie to appease TypeScript. The actual return type\n * is a descriptor, but typescript incorrectly insists that decorator functions return\n * `void` or `any`.\n *\n * @typedoc\n */\nexport type DataDecorator = (target: object, key: string, desc?: DecoratorPropertyDescriptor) => void;\n\n/**\n  `attr` defines an attribute on a [Model](/ember-data/release/classes/Model).\n  By default, attributes are passed through as-is, however you can specify an\n  optional type to have the value automatically transformed.\n  EmberData ships with four basic transform types: `string`, `number`,\n  `boolean` and `date`. You can define your own transforms by subclassing\n  [Transform](/ember-data/release/classes/Transform).\n\n  Note that you cannot use `attr` to define an attribute of `id`.\n\n  `attr` takes an optional hash as a second parameter, currently\n  supported options are:\n\n  - `defaultValue`: Pass a string or a function to be called to set the attribute\n  to a default value if and only if the key is absent from the payload response.\n\n  Example\n\n  ```app/models/user.js\n  import Model, { attr } from '@ember-data/model';\n\n  export default class UserModel extends Model {\n    @attr('string') username;\n    @attr('string') email;\n    @attr('boolean', { defaultValue: false }) verified;\n  }\n  ```\n\n  Default value can also be a function. This is useful it you want to return\n  a new object for each attribute.\n\n  ```app/models/user.js\n  import Model, { attr } from '@ember-data/model';\n\n  export default class UserModel extends Model {\n    @attr('string') username;\n    @attr('string') email;\n\n    @attr({\n      defaultValue() {\n        return {};\n      }\n    })\n    settings;\n  }\n  ```\n\n  The `options` hash is passed as second argument to a transforms'\n  `serialize` and `deserialize` method. This allows to configure a\n  transformation and adapt the corresponding value, based on the config:\n\n  ```app/models/post.js\n  import Model, { attr } from '@ember-data/model';\n\n  export default class PostModel extends Model {\n    @attr('text', {\n      uppercase: true\n    })\n    text;\n  }\n  ```\n\n  ```app/transforms/text.js\n  export default class TextTransform {\n    serialize(value, options) {\n      if (options.uppercase) {\n        return value.toUpperCase();\n      }\n\n      return value;\n    }\n\n    deserialize(value) {\n      return value;\n    }\n\n    static create() {\n      return new this();\n    }\n  }\n  ```\n\n  @method attr\n  @public\n  @static\n  @for @ember-data/model\n  @param {String|Object} type the attribute type\n  @param {Object} options a hash of options\n  @return {Attribute}\n*/\nexport function attr(): DataDecorator;\nexport function attr<T>(type: TypeFromInstance<T>): DataDecorator;\nexport function attr(type: string): DataDecorator;\nexport function attr(options: AttrOptions): DataDecorator;\nexport function attr<T>(type: TypeFromInstance<T>, options?: OptionsFromInstance<T>): DataDecorator;\nexport function attr(type: string, options?: AttrOptions & object): DataDecorator;\nexport function attr(target: object, key: string | symbol, desc?: PropertyDescriptor): void; // see note on DataDecorator for why void\nexport function attr(\n  type?: string | AttrOptions | object,\n  options?: (AttrOptions & object) | string | symbol,\n  desc?: PropertyDescriptor\n): DataDecorator | void {\n  const args = [type, options, desc];\n  // see note on DataDecorator for why void\n  return isElementDescriptor(args) ? (_attr()(...args) as void) : _attr(type, options as object);\n}\n","import { warn } from '@ember/debug';\nimport { computed } from '@ember/object';\n\nimport { DEBUG } from '@warp-drive/build-config/env';\nimport { assert } from '@warp-drive/build-config/macros';\nimport type { TypeFromInstance } from '@warp-drive/core-types/record';\nimport { RecordStore } from '@warp-drive/core-types/symbols';\n\nimport { lookupLegacySupport } from './legacy-relationships-support';\nimport type { MinimalLegacyRecord } from './model-methods';\nimport { isElementDescriptor, normalizeModelName } from './util';\n/**\n  @module @ember-data/model\n*/\n\nexport type IsUnknown<T> = unknown extends T ? true : false;\n\nexport type RelationshipOptions<T, Async extends boolean> = {\n  async: Async;\n  inverse: null | (IsUnknown<T> extends true ? string : keyof NoNull<T> & string);\n  polymorphic?: boolean;\n  as?: string;\n  linksMode?: true;\n  resetOnRemoteUpdate?: boolean;\n};\n\nexport type NoNull<T> = Exclude<T, null>;\n// type BelongsToDecoratorObject<getT> = {\n//   get: () => getT;\n//   // set: (value: Awaited<getT>) => void;\n//   set: (value: getT) => void;\n//   // init: () => getT;\n// };\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport type RelationshipDecorator<T> = <This>(target: This, key: string, desc?: PropertyDescriptor) => void; // BelongsToDecoratorObject<getT>;\n\nfunction _belongsTo<T, Async extends boolean>(\n  type: string,\n  options: RelationshipOptions<T, Async>\n): RelationshipDecorator<T> {\n  assert(\n    `Expected options.async from @belongsTo('${type}', options) to be a boolean`,\n    options && typeof options.async === 'boolean'\n  );\n  assert(\n    `Expected options.inverse from @belongsTo('${type}', options) to be either null or the string type of the related resource.`,\n    options.inverse === null || (typeof options.inverse === 'string' && options.inverse.length > 0)\n  );\n\n  const meta = {\n    type: normalizeModelName(type),\n    options: options,\n    kind: 'belongsTo',\n    name: '<Unknown BelongsTo>',\n  };\n\n  return computed({\n    get<R extends MinimalLegacyRecord>(this: R, key: string) {\n      // this is a legacy behavior we may not carry into a new model setup\n      // it's better to error on disconnected records so users find errors\n      // in their logic.\n      if (this.isDestroying || this.isDestroyed) {\n        return null;\n      }\n      const support = lookupLegacySupport(this);\n\n      if (DEBUG) {\n        if (['currentState'].includes(key)) {\n          throw new Error(\n            `'${key}' is a reserved property name on instances of classes extending Model. Please choose a different property name for your belongsTo on ${this.constructor.toString()}`\n          );\n        }\n        if (Object.prototype.hasOwnProperty.call(options, 'serialize')) {\n          warn(\n            `You provided a serialize option on the \"${key}\" property in the \"${support.identifier.type}\" class, this belongs in the serializer. See Serializer and it's implementations https://api.emberjs.com/ember-data/release/classes/Serializer`,\n            false,\n            {\n              id: 'ds.model.serialize-option-in-belongs-to',\n            }\n          );\n        }\n\n        if (Object.prototype.hasOwnProperty.call(options, 'embedded')) {\n          warn(\n            `You provided an embedded option on the \"${key}\" property in the \"${support.identifier.type}\" class, this belongs in the serializer. See EmbeddedRecordsMixin https://api.emberjs.com/ember-data/release/classes/EmbeddedRecordsMixin`,\n            false,\n            {\n              id: 'ds.model.embedded-option-in-belongs-to',\n            }\n          );\n        }\n      }\n\n      return support.getBelongsTo(key);\n    },\n    set<R extends MinimalLegacyRecord>(this: R, key: string, value: unknown) {\n      const support = lookupLegacySupport(this);\n      if (DEBUG) {\n        if (['currentState'].includes(key)) {\n          throw new Error(\n            `'${key}' is a reserved property name on instances of classes extending Model. Please choose a different property name for your belongsTo on ${this.constructor.toString()}`\n          );\n        }\n      }\n      this[RecordStore]._join(() => {\n        support.setDirtyBelongsTo(key, value);\n      });\n\n      return support.getBelongsTo(key);\n    },\n  }).meta(meta) as RelationshipDecorator<T>;\n}\n\n/**\n  `belongsTo` is used to define One-To-One and One-To-Many, and One-To-None\n  relationships on a [Model](/ember-data/release/classes/Model).\n\n  `belongsTo` takes a configuration hash as a second parameter, currently\n  supported options are:\n\n  - `async`: (*required*) A boolean value used to declare whether this is a sync (false) or async (true) relationship.\n  - `inverse`: (*required*)  A string used to identify the inverse property on a related model, or `null`.\n  - `polymorphic`: (*optional*) A boolean value to mark the relationship as polymorphic\n  - `as`: (*optional*) A string used to declare the abstract type \"this\" record satisfies for polymorphism.\n\n  ### Examples\n\n  To declare a **one-to-many** (or many-to-many) relationship, use\n  `belongsTo` in combination with `hasMany`:\n\n  ```js\n  // app/models/comment.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Comment extends Model {\n    @belongsTo('post', { async: false, inverse: 'comments' }) post;\n  }\n\n  // app/models/post.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Post extends Model {\n    @hasMany('comment', { async: false, inverse: 'post' }) comments;\n  }\n  ```\n\n  To declare a **one-to-one** relationship with managed inverses, use `belongsTo` for both sides:\n\n  ```js\n  // app/models/author.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Author extends Model {\n    @belongsTo('address', { async: true, inverse: 'owner' }) address;\n  }\n\n  // app/models/address.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Address extends Model {\n    @belongsTo('author', { async: true, inverse: 'address' }) owner;\n  }\n  ```\n\n  To declare a **one-to-one** relationship without managed inverses, use `belongsTo` for both sides\n  with `null` as the inverse:\n\n  ```js\n  // app/models/author.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Author extends Model {\n    @belongsTo('address', { async: true, inverse: null }) address;\n  }\n\n  // app/models/address.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Address extends Model {\n    @belongsTo('author', { async: true, inverse: null }) owner;\n  }\n  ```\n\n  To declare a one-to-none relationship between two models, use\n  `belongsTo` with inverse set to `null` on just one side::\n\n  ```js\n  // app/models/person.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Person extends Model {\n    @belongsTo('person', { async: false, inverse: null }) bestFriend;\n  }\n  ```\n\n  #### Sync vs Async Relationships\n\n  EmberData fulfills relationships using resource data available in\n  the cache.\n\n  Sync relationships point directly to the known related resources.\n\n  When a relationship is declared as async, if any of the known related\n  resources have not been loaded, they will be fetched. The property\n  on the record when accessed provides a promise that resolves once\n  all resources are loaded.\n\n  Async relationships may take advantage of links. On access, if the related\n  link has not been loaded, or if any known resources are not available in\n  the cache, the fresh state will be fetched using the link.\n\n  In contrast to async relationship, accessing a sync relationship\n  will error on access when any of the known related resources have\n  not been loaded.\n\n  If you are using `links` with sync relationships, you have to use\n  the BelongsTo reference API to fetch or refresh related resources\n  that aren't loaded. For instance, for a `bestFriend` relationship:\n\n  ```js\n  person.belongsTo('bestFriend').reload();\n  ```\n\n  #### Polymorphic Relationships\n\n  To declare a polymorphic relationship, use `hasMany` with the `polymorphic`\n  option set to `true`:\n\n  ```js\n  // app/models/comment.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Comment extends Model {\n    @belongsTo('commentable', { async: false, inverse: 'comments', polymorphic: true }) parent;\n  }\n  ```\n\n  `'commentable'` here is referred to as the \"abstract type\" for the polymorphic\n  relationship.\n\n  Polymorphic relationships with `inverse: null` will accept any type of record as their content.\n  Polymorphic relationships with `inverse` set to a string will only accept records with a matching\n  inverse relationships declaring itself as satisfying the abstract type.\n\n  Below, 'as' is used to declare the that 'post' record satisfies the abstract type 'commentable'\n  for this relationship.\n\n  ```js\n  // app/models/post.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Post extends Model {\n    @hasMany('comment', { async: false, inverse: 'parent', as: 'commentable' }) comments;\n  }\n  ```\n\n  Note: every Model that declares an inverse to a polymorphic relationship must\n  declare itself exactly the same. This is because polymorphism is based on structural\n  traits.\n\n  Polymorphic to polymorphic relationships are supported. Both sides of the relationship\n  must be declared as polymorphic, and the `as` option must be used to declare the abstract\n  type each record satisfies on both sides.\n\n  @method belongsTo\n  @public\n  @static\n  @for @ember-data/model\n  @param {string} type (optional) the name of the related resource\n  @param {object} options (optional) a hash of options\n  @return {PropertyDescriptor} relationship\n*/\n\nexport function belongsTo(): never;\nexport function belongsTo(type: string): never;\nexport function belongsTo<T>(\n  type: TypeFromInstance<NoNull<T>>,\n  options: RelationshipOptions<T, boolean>\n): RelationshipDecorator<T>;\n// export function belongsTo<K extends Promise<unknown>, T extends Awaited<K> = Awaited<K>>(\n//   type: TypeFromInstance<NoNull<T>>,\n//   options: RelationshipOptions<T, true>\n// ): RelationshipDecorator<K>;\nexport function belongsTo(type: string, options: RelationshipOptions<unknown, boolean>): RelationshipDecorator<unknown>;\nexport function belongsTo<T>(\n  type?: TypeFromInstance<NoNull<T>>,\n  options?: RelationshipOptions<T, boolean>\n): RelationshipDecorator<T> {\n  if (DEBUG) {\n    assert(\n      `belongsTo must be invoked with a type and options. Did you mean \\`@belongsTo(${type}, { async: false, inverse: null })\\`?`,\n      !isElementDescriptor(arguments as unknown as unknown[])\n    );\n  }\n  return _belongsTo(type!, options!);\n}\n","/**\n  @module @ember-data/model\n*/\nimport { deprecate } from '@ember/debug';\nimport { computed } from '@ember/object';\n\nimport { dasherize, singularize } from '@ember-data/request-utils/string';\nimport { DEPRECATE_NON_STRICT_TYPES } from '@warp-drive/build-config/deprecations';\nimport { DEBUG } from '@warp-drive/build-config/env';\nimport { assert } from '@warp-drive/build-config/macros';\nimport type { TypeFromInstance } from '@warp-drive/core-types/record';\nimport { RecordStore } from '@warp-drive/core-types/symbols';\n\nimport type { NoNull, RelationshipDecorator, RelationshipOptions } from './belongs-to';\nimport { lookupLegacySupport } from './legacy-relationships-support';\nimport type { MinimalLegacyRecord } from './model-methods';\nimport { isElementDescriptor } from './util';\n\nfunction normalizeType(type: string) {\n  if (DEPRECATE_NON_STRICT_TYPES) {\n    const result = singularize(dasherize(type));\n\n    deprecate(\n      `The resource type '${type}' is not normalized. Update your application code to use '${result}' instead of '${type}'.`,\n      result === type,\n      {\n        id: 'ember-data:deprecate-non-strict-types',\n        until: '6.0',\n        for: 'ember-data',\n        since: {\n          available: '4.13',\n          enabled: '5.3',\n        },\n      }\n    );\n\n    return result;\n  }\n\n  return type;\n}\n\nfunction _hasMany<T, Async extends boolean>(\n  type: string,\n  options: RelationshipOptions<T, Async>\n): RelationshipDecorator<T> {\n  assert(`Expected hasMany options.async to be a boolean`, options && typeof options.async === 'boolean');\n\n  // Metadata about relationships is stored on the meta of\n  // the relationship. This is used for introspection and\n  // serialization. Note that `key` is populated lazily\n  // the first time the CP is called.\n  const meta = {\n    type: normalizeType(type),\n    options,\n    kind: 'hasMany',\n    name: '<Unknown BelongsTo>',\n  };\n\n  return computed({\n    get<R extends MinimalLegacyRecord>(this: R, key: string) {\n      if (DEBUG) {\n        if (['currentState'].includes(key)) {\n          throw new Error(\n            `'${key}' is a reserved property name on instances of classes extending Model. Please choose a different property name for your hasMany on ${this.constructor.toString()}`\n          );\n        }\n      }\n      if (this.isDestroying || this.isDestroyed) {\n        return [];\n      }\n      return lookupLegacySupport(this).getHasMany(key);\n    },\n    set<R extends MinimalLegacyRecord>(this: R, key: string, records: T[]) {\n      if (DEBUG) {\n        if (['currentState'].includes(key)) {\n          throw new Error(\n            `'${key}' is a reserved property name on instances of classes extending Model. Please choose a different property name for your hasMany on ${this.constructor.toString()}`\n          );\n        }\n      }\n      const support = lookupLegacySupport(this);\n      const manyArray = support.getManyArray(key);\n      assert(`You must pass an array of records to set a hasMany relationship`, Array.isArray(records));\n      this[RecordStore]._join(() => {\n        manyArray.splice(0, manyArray.length, ...records);\n      });\n\n      return support.getHasMany(key);\n    },\n  }).meta(meta);\n}\n\n/**\n  `hasMany` is used to define Many-To-One and Many-To-Many, and Many-To-None\n  relationships on a [Model](/ember-data/release/classes/Model).\n\n  `hasMany` takes a configuration hash as a second parameter, currently\n  supported options are:\n\n  - `async`: (*required*) A boolean value used to declare whether this is a sync (false) or async (true) relationship.\n  - `inverse`: (*required*)  A string used to identify the inverse property on a related model, or `null`.\n  - `polymorphic`: (*optional*) A boolean value to mark the relationship as polymorphic\n  - `as`: (*optional*) A string used to declare the abstract type \"this\" record satisfies for polymorphism.\n\n  ### Examples\n\n  To declare a **many-to-one** (or one-to-many) relationship, use\n  `belongsTo` in combination with `hasMany`:\n\n  ```js\n  // app/models/post.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Post extends Model {\n    @hasMany('comment', { async: false, inverse: 'post' }) comments;\n  }\n\n\n  // app/models/comment.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Comment extends Model {\n    @belongsTo('post', { async: false, inverse: 'comments' }) post;\n  }\n  ```\n\n  To declare a **many-to-many** relationship with managed inverses, use `hasMany` for both sides:\n\n  ```js\n  // app/models/post.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Post extends Model {\n    @hasMany('tag', { async: true, inverse: 'posts' }) tags;\n  }\n\n  // app/models/tag.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Tag extends Model {\n    @hasMany('post', { async: true, inverse: 'tags' }) posts;\n  }\n  ```\n\n  To declare a **many-to-many** relationship without managed inverses, use `hasMany` for both sides\n  with `null` as the inverse:\n\n  ```js\n  // app/models/post.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Post extends Model {\n    @hasMany('tag', { async: true, inverse: null }) tags;\n  }\n\n  // app/models/tag.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Tag extends Model {\n    @hasMany('post', { async: true, inverse: null }) posts;\n  }\n  ```\n\n  To declare a many-to-none relationship between two models, use\n  `hasMany` with inverse set to `null` on just one side::\n\n  ```js\n  // app/models/post.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Post extends Model {\n    @hasMany('category', { async: true, inverse: null }) categories;\n  }\n  ```\n\n  #### Sync vs Async Relationships\n\n  EmberData fulfills relationships using resource data available in\n  the cache.\n\n  Sync relationships point directly to the known related resources.\n\n  When a relationship is declared as async, if any of the known related\n  resources have not been loaded, they will be fetched. The property\n  on the record when accessed provides a promise that resolves once\n  all resources are loaded.\n\n  Async relationships may take advantage of links. On access, if the related\n  link has not been loaded, or if any known resources are not available in\n  the cache, the fresh state will be fetched using the link.\n\n  In contrast to async relationship, accessing a sync relationship\n  will error on access when any of the known related resources have\n  not been loaded.\n\n  If you are using `links` with sync relationships, you have to use\n  the HasMany reference API to fetch or refresh related resources\n  that aren't loaded. For instance, for a `comments` relationship:\n\n  ```js\n  post.hasMany('comments').reload();\n  ```\n\n  #### Polymorphic Relationships\n\n  To declare a polymorphic relationship, use `hasMany` with the `polymorphic`\n  option set to `true`:\n\n  ```js\n  // app/models/comment.js\n  import Model, { belongsTo } from '@ember-data/model';\n\n  export default class Comment extends Model {\n    @belongsTo('commentable', { async: false, inverse: 'comments', polymorphic: true }) parent;\n  }\n  ```\n\n  `'commentable'` here is referred to as the \"abstract type\" for the polymorphic\n  relationship.\n\n  Polymorphic relationships with `inverse: null` will accept any type of record as their content.\n  Polymorphic relationships with `inverse` set to a string will only accept records with a matching\n  inverse relationships declaring itself as satisfying the abstract type.\n\n  Below, 'as' is used to declare the that 'post' record satisfies the abstract type 'commentable'\n  for this relationship.\n\n  ```js\n  // app/models/post.js\n  import Model, { hasMany } from '@ember-data/model';\n\n  export default class Post extends Model {\n    @hasMany('comment', { async: false, inverse: 'parent', as: 'commentable' }) comments;\n  }\n  ```\n\n  Note: every Model that declares an inverse to a polymorphic relationship must\n  declare itself exactly the same. This is because polymorphism is based on structural\n  traits.\n\n  Polymorphic to polymorphic relationships are supported. Both sides of the relationship\n  must be declared as polymorphic, and the `as` option must be used to declare the abstract\n  type each record satisfies on both sides.\n\n  @method hasMany\n  @public\n  @static\n  @for @ember-data/model\n  @param {string} type (optional) the name of the related resource\n  @param {object} options (optional) a hash of options\n  @return {PropertyDescriptor} relationship\n*/\nexport function hasMany(): never;\nexport function hasMany(type: string): never;\nexport function hasMany<T>(\n  type: TypeFromInstance<NoNull<T>>,\n  options: RelationshipOptions<T, boolean>\n): RelationshipDecorator<T>;\n// export function hasMany<K extends Promise<unknown>, T extends Awaited<K> = Awaited<K>>(\n//   type: TypeFromInstance<NoNull<T>>,\n//   options: RelationshipOptions<T, true>\n// ): RelationshipDecorator<K>;\nexport function hasMany(type: string, options: RelationshipOptions<unknown, boolean>): RelationshipDecorator<unknown>;\nexport function hasMany<T>(\n  type?: TypeFromInstance<NoNull<T>>,\n  options?: RelationshipOptions<T, boolean>\n): RelationshipDecorator<T> {\n  if (DEBUG) {\n    assert(\n      `hasMany must be invoked with a type and options. Did you mean \\`@hasMany(${type}, { async: false, inverse: null })\\`?`,\n      !isElementDescriptor(arguments as unknown as unknown[])\n    );\n  }\n  return _hasMany(type!, options!);\n}\n"],"names":["_attr","type","options","undefined","meta","kind","isAttribute","key","computed","get","macroCondition","getGlobalConfig","WarpDrive","env","DEBUG","includes","Error","constructor","toString","isDestroyed","isDestroying","peekCache","getAttr","recordIdentifierFor","set","value","identifier","test","id","lid","currentState","isDeleted","cache","currentValue","setAttr","isValid","errors","remove","cleanErrorRequests","attr","desc","args","isElementDescriptor","_belongsTo","async","inverse","length","normalizeModelName","name","support","lookupLegacySupport","Object","prototype","hasOwnProperty","call","warn","getBelongsTo","RecordStore","_join","setDirtyBelongsTo","belongsTo","arguments","normalizeType","deprecations","DEPRECATE_NON_STRICT_TYPES","result","singularize","dasherize","deprecate","until","for","since","available","enabled","_hasMany","getHasMany","records","manyArray","getManyArray","Array","isArray","splice","hasMany"],"mappings":"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"}