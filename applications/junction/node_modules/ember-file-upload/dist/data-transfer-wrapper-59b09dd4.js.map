{"version":3,"file":"data-transfer-wrapper-59b09dd4.js","sources":["../src/system/data-transfer-wrapper.ts"],"sourcesContent":["import type { FileUploadDragEvent } from '../interfaces.ts';\n\nconst getDataSupport = {};\n\nexport default class DataTransferWrapper {\n  dataTransfer?: DataTransfer;\n  itemDetails?: FileUploadDragEvent['itemDetails'];\n  source?: FileUploadDragEvent['source'];\n\n  constructor(event: FileUploadDragEvent) {\n    this.source = event.source;\n    this.dataTransfer = event.dataTransfer;\n    this.itemDetails = event.itemDetails;\n  }\n\n  getData(type: string) {\n    const dataTransfer = this.dataTransfer;\n    if (!dataTransfer) return;\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (getDataSupport[type] == null) {\n      try {\n        const data = dataTransfer.getData(type);\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        getDataSupport[type] = true;\n        return data;\n      } catch (e) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        getDataSupport[type] = false;\n      }\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n    } else if (getDataSupport[type]) {\n      return dataTransfer.getData(type);\n    }\n    return '';\n  }\n\n  get filesOrItems() {\n    return this.files.length ? this.files : this.items;\n  }\n\n  get files() {\n    return Array.from(this.dataTransfer?.files ?? []);\n  }\n\n  get items() {\n    return this.itemDetails ?? Array.from(this.dataTransfer?.items ?? []);\n  }\n}\n"],"names":["getDataSupport","DataTransferWrapper","constructor","event","_defineProperty","source","dataTransfer","itemDetails","getData","type","data","e","filesOrItems","files","length","items","Array","from"],"mappings":";;AAEA,MAAMA,cAAc,GAAG,EAAE,CAAA;AAEV,MAAMC,mBAAmB,CAAC;EAKvCC,WAAWA,CAACC,KAA0B,EAAE;IAAAC,eAAA,CAAA,IAAA,EAAA,cAAA,EAAA,KAAA,CAAA,CAAA,CAAA;IAAAA,eAAA,CAAA,IAAA,EAAA,aAAA,EAAA,KAAA,CAAA,CAAA,CAAA;IAAAA,eAAA,CAAA,IAAA,EAAA,QAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACtC,IAAA,IAAI,CAACC,MAAM,GAAGF,KAAK,CAACE,MAAM,CAAA;AAC1B,IAAA,IAAI,CAACC,YAAY,GAAGH,KAAK,CAACG,YAAY,CAAA;AACtC,IAAA,IAAI,CAACC,WAAW,GAAGJ,KAAK,CAACI,WAAW,CAAA;AACtC,GAAA;EAEAC,OAAOA,CAACC,IAAY,EAAE;AACpB,IAAA,MAAMH,YAAY,GAAG,IAAI,CAACA,YAAY,CAAA;IACtC,IAAI,CAACA,YAAY,EAAE,OAAA;;AAEnB;AACA;AACA,IAAA,IAAIN,cAAc,CAACS,IAAI,CAAC,IAAI,IAAI,EAAE;MAChC,IAAI;AACF,QAAA,MAAMC,IAAI,GAAGJ,YAAY,CAACE,OAAO,CAACC,IAAI,CAAC,CAAA;AACvC;AACA;AACAT,QAAAA,cAAc,CAACS,IAAI,CAAC,GAAG,IAAI,CAAA;AAC3B,QAAA,OAAOC,IAAI,CAAA;OACZ,CAAC,OAAOC,CAAC,EAAE;AACV;AACA;AACAX,QAAAA,cAAc,CAACS,IAAI,CAAC,GAAG,KAAK,CAAA;AAC9B,OAAA;AACA;AACA;AACF,KAAC,MAAM,IAAIT,cAAc,CAACS,IAAI,CAAC,EAAE;AAC/B,MAAA,OAAOH,YAAY,CAACE,OAAO,CAACC,IAAI,CAAC,CAAA;AACnC,KAAA;AACA,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;EAEA,IAAIG,YAAYA,GAAG;AACjB,IAAA,OAAO,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,IAAI,CAACD,KAAK,GAAG,IAAI,CAACE,KAAK,CAAA;AACpD,GAAA;EAEA,IAAIF,KAAKA,GAAG;IACV,OAAOG,KAAK,CAACC,IAAI,CAAC,IAAI,CAACX,YAAY,EAAEO,KAAK,IAAI,EAAE,CAAC,CAAA;AACnD,GAAA;EAEA,IAAIE,KAAKA,GAAG;AACV,IAAA,OAAO,IAAI,CAACR,WAAW,IAAIS,KAAK,CAACC,IAAI,CAAC,IAAI,CAACX,YAAY,EAAES,KAAK,IAAI,EAAE,CAAC,CAAA;AACvE,GAAA;AACF;;;;"}